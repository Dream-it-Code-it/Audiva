<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Audiva ‚Äî Now Playing</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  html,body{height:100%;margin:0;font-family:system-ui,Segoe UI,sans-serif;background:#000;color:#9feaff}
  .wrap{height:100%;display:grid;place-items:center}
  .title{font-weight:800; letter-spacing:.02em; margin-bottom:18px; text-align:center}
  .viz{display:flex; gap:10px}
  .bar{
    width:10px; height:24px; background:linear-gradient(180deg,#5fd0ff,#00ffc6);
    border-radius:8px; animation:pulse 1.1s ease-in-out infinite;
    box-shadow:0 0 18px rgba(0,255,198,.35);
  }
  .bar:nth-child(2){animation-delay:.12s}
  .bar:nth-child(3){animation-delay:.24s}
  .bar:nth-child(4){animation-delay:.36s}
  .bar:nth-child(5){animation-delay:.48s}
  .bar:nth-child(6){animation-delay:.60s}
  .bar:nth-child(7){animation-delay:.72s}
  @keyframes pulse{
    0%,100%{height:22px; opacity:.85}
    50%{height:90px; opacity:1}
  }
</style>
</head>
<body>
<div class="wrap">
  <div>
    <div id="now" class="title">Awaiting playback‚Ä¶</div>
    <div class="viz">
      <div class="bar"></div><div class="bar"></div><div class="bar"></div>
      <div class="bar"></div><div class="bar"></div><div class="bar"></div>
      <div class="bar"></div>
    </div>
  </div>
</div>

<script>
const ch = new BroadcastChannel('audiva_channel');
ch.onmessage = e=>{
  const m = e.data;
  if(m.type==='status_update' && (m.status==='playing' || m.status==='paused')){
    document.getElementById('now').textContent =
      (m.status==='paused'?'‚è∏ Paused: ':'üéµ Now Playing: ') + (m.fileName||'');
  }
};
</script>
</body>
</html>
